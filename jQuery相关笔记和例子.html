<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>jQuery相关笔记和例子</title>
  <script type="text/javascript" src="./js/jquery.js"></script>
</head>
<body>
<div>
  <input type="checkbox" id="example1" /><label>我已阅读上面的协议</label>
</div>

<!--表单选择器-->
<form id="form1" action="#">
  <input type="button" value="button"/><br>
  <input type="checkbox" name="test1"/><br>
  <input type="checkbox" name="test2"/><br>
  <input type="file"/><br>
  <input type="hidden"/><br>
  <input type="image"/><br>
  <input type="password"/><br>
  <input type="radio" name="a"/> 1 <input type="radio" name="a"/> 2 <br>
  <input type="reset"/><br>
  <input type="submit" value="Submit"/><br>
  <input type="text"/><br>
  <select><option>Option</option></select><br>
  <textarea></textarea><br>
  <button>Button</button><br>
</form>

<!--某网站品牌列表的效果-->
<div class="brand-list">
  <ul>
    <li>索尼</li>
    <li>三星</li>
    <li>尼康</li>
    <li>松下</li>
    <li>卡西欧</li>
    <li>富士</li>
    <li>柯达</li>
    <li>宾得</li>
    <li>爱国者</li>
    <li>其他品牌相机</li>
  </ul>
  <div class="show-more">
    <a href="#">显示全部品牌</a>
  </div>
</div>

<!--复制节点，类似实现鼠标拖动商品将其加入到购物车-->
<div class="clone">
  Your favorite fruit is _______?
  <ul>
    <li>提子</li>
    <li>柚子</li>
    <li>西瓜</li>
  </ul>
</div>

<!--focus and val()-->
<input type="text" id="address" value="Please input address">

<!--鼠标滑动添加提示-->
<p><a href="#" class="tooltip" title="这是我的超链接提示1">提示1</a></p>
<p><a href="#" class="tooltip" title="这是我的超链接提示2">提示2</a></p>

<script type="text/javascript">
  // window.onload和$(document).ready()的区别
  // 前者不能编写多个，而后者可以；
  // 前者没有简化的写法，后者简化的写法是$(function(){})；
  // 前者的执行时机：必须等待页面中所有的内容（包括图片）加载完毕后才能执行，
  // 后者的执行时机：网页中所有的DOM结构绘制完毕后就执行，可能DOM元素关联的东西并没有加载完。
  // $(document).ready(function () {
  //   alert("document.ready");
  // });
  // window.onload = function () {
  //   alert("window.onload")
  // };

  // jQuery对象和DOM对象
  // var $variable = jQuery对象;
  // var variable = DOM对象;
  // 两者之间的相互转换
  // 1 jQuery转换成DOM对象，通过[index]的方法获取；
  // 2 通过get(index)的方法获取

  $(document).ready(function () {
    var example1 = document.getElementById("example1");
    var $example1 = $(example1);
    $example1.click(function () {
      // if (example1.checked) {
      //   alert("确定签署该协议吗？");
      // }
      if ($example1.is(":checked")) {
        alert("确定签署该协议吗？");
      }
    })
  });

  // 防止与其他jQuery库冲突
  // jQuery.noConflict();//将控制权转交给其他的js库
  // jQuery(function ($) {//使用jQuery设定页面加载时执行的函数
  //   $("p").click(function () {//在函数内部继续使用$()方法

    // })
  // })

  $(document).ready(function () {

    // jQuery选择器
    // $("prev + next")选择器与next()方法是等价的：$(".one + div");等价于$(".one").next("div");
    // $("prev ~ siblings")选择器与nextAll()方法是等价的：$(".one ~ div");等价于$(".one").nextAll("div");

    //过滤选择器：通过特定的过滤规则来筛选出所需的DOM元素，过滤规则与CSS中的伪类选择器语法相同，即选择器都以一个冒号开头
    //          过滤器分为基本过滤、内容过滤、可见性过滤、属性过滤、子元素过滤和表单对象属性过滤选择器
    // :first 选取第一个元素
    // :last  选取最后一个元素
    // :not(selector) 不选择指定的元素
    // :even  选取索引是偶数的所有元素
    // :odd   选取索引是奇数的所有元素
    // :eq(index) 选取索引等于index的所有元素
    // :gt(index) 选取索引大于1的元素
    // :lt(index) 选取索引小于1的元素
    // :header  选取所有的标题元素
    // :animated  选取当前正在执行动画的所有元素

    // 内容过滤选择器：过滤规则主要体现在它所包含的子元素或文本内容上
    // :contains(text)  选取含有文本内容为"text"的元素
    // :empty 选取不包含子元素或者文本的空元素
    // :has(selector) 选取含有选择器所匹配的元素的元素
    // :parent 选取含有子元素或者文本的元素

    // 可见性过滤选择器
    // :hidden 选取所有不可见的元素（不仅包括样式属性display:none的元素，也包括文本隐藏域<input type="hidden">和visibility:hidden之类的元素）
    // :visible 选取所有可见的元素

    // 属性过滤选择器
    // [attribute] 选取拥有此属性的元素
    // [attribute=value] 选取属性值为value的元素
    // [attribute!=value]
    // [attribute^=value] 选取属性值以value开头的元素
    // [attribute$=value]
    // [attribute*=value]
    // [selector1][selector2][selectorN] 用属性选择器合并成一个复合属性选择器，满足多个条件，每选择一次，缩小一次范围

    // 子元素过滤选择器
    // :nth-child(index/even/odd/equation) index是从1算起的
    // :first-child 选取每个父元素的第一个子元素
    // :last-child
    // :only-child 如果某个元素是它父元素中唯一的子元素，那么将会被匹配；若还有其他的元素，不会被匹配

    // 表单对象属性过滤选择器
    // :enabled 选取所有可用的元素
    // :disabled
    // :checked 选取所有被选中的元素（单选框/复选框）
    // :selected  选取所有被选中的选项元素（下拉列表）

    // 表单选择器
    // :input 选取所有的<input>/<textarea>/<select>/<button>元素
    // :text  选取所有的单行文本框
    // :password  选取所有的密码框
    // :radio 选取所有的单选框
    // :checkbox  选取所有的多选框
    // :submit  选取所有的提交按钮
    // :image 选取所有的图像按钮
    // :reset 选取所有的重置按钮
    // :button  选取所有的按钮
    // :file  选取所有的上传域
    // :hidden  选取所有不可见元素

    // 表单选择器
    $("#form1 :input").css("background", "yellow");//选取所有的<input> <textarea> <select> 和 <button> 元素
    $("#form1 :file").css("background", "red");//选取所有的上传域

    // 某网站品牌列表的效果
    var brandListHandler = $(".brand-list ul li:gt(4):not(:last)");
    $(".brand-list").css({"border": "solid 1px grey", "border-radius": "15px", "margin-top": "20px"});
    brandListHandler.hide();//获取ul元素下索引值大于4的li元素的集合元素，然后去掉集合元素中的最后一个元素
    $(".show-more a").css({"text-decoration": "none", "margin-left": "20px"});
    $(".show-more a").click(function () {
      brandListHandler.toggle();
    });

    // DOM操作
    // 查找节点
    // 创建节点
    // 插入节点
        // append()
        // appendTo()
        // prepend()
        // prependTo()
        // after()
        // insertAfter()
        // before()
        // insertBefore()
    // 删除节点
        // remove()
        // empty()
    // 复制节点
        // clone()
    // 替换节点
        // replaceWith()
        // replaceAll()
    // 包裹节点
        // wrap() 将某个节点用其他标记包裹起来。对于需要在文档中插入额外的结构化标记很有用，且不会破坏原始文档的语义
        // wrapAll() 将所有匹配的元素用一个元素来包裹
        // wrapInner() 将每一个匹配的元素的字内容（包括文本节点）用其他结构化的标记包裹起来

    // 属性操作
        // attr()  获取和设置元素属性
        // removeAttr()  删除元素属性

    // 样式操作
        // addClass()
        // removeClass()
        // toggle()
        // toggleClass()
        // hasClass() 实际上内部是调用了is()方法
        // height()
        // width()
        // offset() 获取元素在当前视窗的相对偏移
        // position() 获取元素相对于最近的一个position样式属性设置为relative或者absolute的祖父节点的相对偏移
        // scrollTop()  获取元素的滚动条距顶端的距离和距左侧的距离
        // scrollLeft()

    // 设置和获取HTML/文本和值
        // html()
        // text()
        // val()  用来设置和获取元素的值
        // focus()
        // blur()
        // defaultValue 该属性包含表单元素的初始值

    // 遍历节点
        // children() 取得匹配元素的子元素集合，只考虑子元素不考虑任何后代元素
        // next() 取得匹配元素后面紧邻的同辈元素
        // prev()
        // siblings() 取得匹配元素前后所有的同辈元素
        // closest() 取得最近的匹配元素


    //复制节点
    $(".clone").css("margin-top", "20px");
    $(".clone ul").css("cursor", "pointer");
    $(".clone ul li").click(function () {
      $(this).clone().appendTo(".clone ul");
    });

    // focus and val()
    $("#address").focus(function () {
      var text_value = $(this).val();
      if (text_value == "Please input address") {
        $(this).val("");
      }
    })
    $("#address").blur(function () {
      var text_value = $(this).val();
      if (text_value == "") {//text_value == this.defaultValue
        $(this).val("Please input address");
      }
    })

    // 鼠标滑动添加提示
    $("a.tooltip").mouseover(function (e) {
      this.myTitle = this.title;
      this.title= "";
      var x = 10;
      var y = 20;

      var tooltip = "<div id='tooltip'>" + this.myTitle + "</div>";
      // var tooltip = "<div id='tooltip'>" + this.title + "</div>";
      $("body").append(tooltip);
      $("#tooltip").css({"top": (e.pageY + y) + "px", "left": (e.pageX + x) + "px"}).show("fast");
    }).mouseout(function () {
      $("#tooltip").remove();
      this.title = this.myTitle;
    })

  })
</script>
</body>
</html>